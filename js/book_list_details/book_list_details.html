<div class="flex">
  <div class="section">
    <div ng-switch="classInfo.editing">
      <div ng-switch-when="true">
        <div>
          {{departments[classInfo.department_id].name}}第{{classInfo.term}}学期
          <iron-icon icon="delete" class="clickable inline" ng-click="remove()"
              title="删除本书单...">
          </iron-icon>
        </div>
      </div>
      <div ng-switch-default>
        "{{departments[classInfo.department_id].name}}"学员能看到的所有法本
        <iron-icon ng-if="!classInfo.editing" icon="editor:border-color"
            class="inline clickable" ng-click="convertToBookList()" title="定制">
        </iron-icon>
      </div>
    </div>
    <div class="css-table odd-even class-book-list">
      <div class="css-table-row header">
        <div class="css-table-cell">序号</div>
        <div class="css-table-cell">书名</div>
        <div class="css-table-cell">类别</div>
        <div class="css-table-cell">价格</div>
        <div class="css-table-cell">国际运费</div>
        <div class="css-table-cell"></div>
      </div>
      <div ng-repeat="(id, book) in classInfo.books"
          class="css-table-row deletable">
        <div class="css-table-cell">{{$index + 1}}</div>
        <div class="css-table-cell">{{book.name}}</div>
        <div class="css-table-cell">{{categories[book.category].name}}</div>
        <div class="css-table-cell">{{book.price}}</div>
        <div class="css-table-cell">{{book.int_shipping}}</div>
        <div class="css-table-cell">
          <iron-icon icon="delete" class="delete-button"
              ng-click="removeItem(id)" ng-if="classInfo.editing">
          </iron-icon>
        </div>
      </div>
    </div>
    <div ng-if="classInfo.editing" class="padded-element right">
      <iron-icon icon="add" class="clickable" ng-click="classInfo.adding = true"
          title="添加法本...">
      </iron-icon>
      <input type="button" value="取消" ng-click="restore()"
          ng-disabled="!dirty"> 
      <input type="submit" value="保存" ng-click="save()"
          ng-disabled="!dirty">
    </div>
  </div>
  <div class="section" ng-if="classInfo.adding">
    <select multiple="true" class="book-selection">
      <option ng-repeat="item in items" value="{{item.id}}"
          ng-click="addBook(item)" ng-if="!classInfo.books[item.id]">
        {{item.name}}
      </option>
    </select>
  </div> 
</div>
