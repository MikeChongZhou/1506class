<div class="flex">
  <div class="section">
    <div ng-switch="bookList.editing">
      <div ng-switch-when="true">
        <div>
          {{departments[bookList.department_id].name}}第{{classInfo.term}}学期
          <iron-icon icon="add" class="clickable inline" ng-click="adding = true"
              title="添加法本...">
          </iron-icon>
          <iron-icon icon="delete" class="clickable inline" ng-click="remove()"
              title="删除本书单...">
          </iron-icon>
        </div>
      </div>
      <div ng-switch-default>
        "{{departments[bookList.department_id].name}}"学员能看到的所有法本
        <iron-icon ng-if="!bookList.editing" icon="editor:border-color"
            class="inline clickable" ng-click="bookList.editing = true" title="定制">
        </iron-icon>
      </div>
    </div>
    <div class="css-table odd-even">
      <div class="css-table-row header">
        <div class="css-table-cell">序号</div>
        <div class="css-table-cell">书名</div>
        <div class="css-table-cell">类别</div>
        <div class="css-table-cell">价格</div>
        <div class="css-table-cell">国际运费</div>
        <div class="css-table-cell"></div>
      </div>
      <div ng-repeat="id in classInfo.bookIds" class="css-table-row deletable">
        <div class="css-table-cell">{{$index + 1}}</div>
        <div class="css-table-cell">{{items[id].name}}</div>
        <div class="css-table-cell">{{categories[items[id].category].name}}</div>
        <div class="css-table-cell">{{items[id].price}}</div>
        <div class="css-table-cell">{{items[id].int_shipping}}</div>
        <div class="css-table-cell">
          <iron-icon icon="delete" class="delete-button" ng-click="removeItem(id)"
              ng-if="bookList.editing">
          </iron-icon>
        </div>
      </div>
    </div>
    <div ng-if="bookList.editing" class="padded-element right">
      <input type="button" value="取消" ng-click="cancel()"
          ng-disabled="!isDirty()"> 
      <input type="submit" value="保存" ng-click="save()"
          ng-disabled="!isDirty()">
    </div>
  </div>
  <div class="section" ng-if="adding">
    <select multiple="true" class="book-selection">
      <option ng-repeat="item in items" value="{{item.id}}"
          ng-click="toggleBook(item)">
        {{item.name}}
      </option>
    </select>
  </div> 
</div>
